{"version":3,"sources":["webpack:///./tamplate/countrieList.hbs","webpack:///./index.js","webpack:///./fetchCountries.js","webpack:///./tamplate/countryListItem.hbs"],"names":["Handlebars","__webpack_require__","module","exports","template","1","container","depth0","helpers","partials","data","helper","escapeExpression","name","hooks","helperMissing","call","nullContext","hash","loc","start","line","column","end","compiler","main","stack1","each","fn","program","inverse","noop","useData","refs","searchForm","document","querySelector","countryList","searchInput","insertListItem","items","insertAdjacentHTML","addEventListener","event","preventDefault","debounce","e","searchQuery","target","value","innerHTML","fetch","then","response","json","catch","error","console","log","markup","countryListItemsTemplate","renderCountriesList","countriesListTemplate","buildCountriesList","length","PNotify","defaults","styling","title","text","alert","searchFormInputHandler","alias1","alias2","alias4","capital","population","languages","flag","2","lambda"],"mappings":"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","file":"main.771438436ad1e287cf33.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<li class=\\\"country-item\\\">\"\n    + container.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":25},\"end\":{\"line\":2,\"column\":33}}}) : helper)))\n    + \"</li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":3,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","import './styles.css';\nimport fetchCountries from './fetchCountries.js';\nimport countryListItemsTemplate from './tamplate/countryListItem.hbs';\nimport countriesListTemplate from './tamplate/countrieList.hbs';\nimport PNotify from 'pnotify/dist/es/PNotify.js';\nimport PNotifyStyleMaterial from 'pnotify/dist/es/PNotifyStyleMaterial.js';\nimport debounce from 'lodash.debounce';\n\nconst refs = {\n  searchForm: document.querySelector('#search-form'),\n  countryList: document.querySelector('#country-list'),\n  searchInput: document.querySelector('.search__input'),\n};\n\nrefs.searchForm.addEventListener('submit', event => {\n  event.preventDefault();\n});\n\nrefs.searchForm.addEventListener(\n  'input',\n  debounce(e => {\n    searchFormInputHandler(e);\n  }, 500),\n);\n\nfunction searchFormInputHandler(e) {\n  const searchQuery = e.target.value;\n\n  clearListItems();\n\n  fetchCountries(searchQuery).then(data => {\n    const markup = buildListItemMarkup(data);\n    const renderCountriesList = buildCountriesList(data);\n    if (!data) {\n      return;\n    } else if (data.length > 10) {\n      PNotify.defaults.styling = 'material';\n      PNotify.error({\n        title: 'Oh No!',\n        text: 'Too many matches found.Please enter a more specific query',\n      });\n    } else if (data.length >= 2 && data.length <= 10) {\n      insertListItem(renderCountriesList);\n    } else if (data.length === 1) {\n      insertListItem(markup);\n    } else {\n      alert('Ничего не найдено.Корректно введите запрос');\n    }\n  });\n}\n\nfunction insertListItem(items) {\n  refs.countryList.insertAdjacentHTML('beforeend', items);\n}\n\nfunction buildCountriesList(items) {\n  return countriesListTemplate(items);\n}\n\nfunction buildListItemMarkup(items) {\n  return countryListItemsTemplate(items);\n}\n\nfunction clearListItems() {\n  refs.countryList.innerHTML = '';\n}\n","export default function fetchCountries(name) {\n  return fetch(`https://restcountries.eu/rest/v2/name/${name}`)\n    .then(response => {\n      if (name) {\n        return response.json();\n      } else {\n        return;\n      }\n    })\n    .catch(error => console.log(error));\n}\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<li class=\\\"item\\\">\\n    <article class=\\\"article\\\">\\n        <div class=\\\"name\\\">\\n            <h1 class=\\\"name-country\\\">\"\n    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":37},\"end\":{\"line\":5,\"column\":45}}}) : helper)))\n    + \"</h1>\\n        </div>\\n        <div class=\\\"country-characteristics\\\">\\n            <h2 class=\\\"capital\\\">Capital : \"\n    + alias4(((helper = (helper = helpers.capital || (depth0 != null ? depth0.capital : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"capital\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":42},\"end\":{\"line\":8,\"column\":53}}}) : helper)))\n    + \"</h2>\\n            <span class=\\\"population\\\">Population : \"\n    + alias4(((helper = (helper = helpers.population || (depth0 != null ? depth0.population : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"population\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":50},\"end\":{\"line\":9,\"column\":64}}}) : helper)))\n    + \"</span>\\n            <div class=\\\"langs\\\">\\n                <h2 class=\\\"lang-title\\\">Language : </h2>\\n                <ul class=\\\"lang-list\\\">\\n                    \"\n    + ((stack1 = helpers.each.call(alias1,(depth0 != null ? depth0.languages : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":20},\"end\":{\"line\":13,\"column\":90}}})) != null ? stack1 : \"\")\n    + \"\\n                </ul>\\n            </div>\\n        </div>\\n        <div class=\\\"img-flag\\\">\\n            <img src=\\\"\"\n    + alias4(((helper = (helper = helpers.flag || (depth0 != null ? depth0.flag : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"flag\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":18,\"column\":22},\"end\":{\"line\":18,\"column\":30}}}) : helper)))\n    + \"\\\" alt=\\\"\\\" width=\\\"300\\\" height=\\\"250\\\">\\n        </div>\\n    </article>\\n</li>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    return \" <li class=\\\"lang-item\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? depth0.name : depth0), depth0))\n    + \"</li> \";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":22,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}